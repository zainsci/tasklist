(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7527)}])},7527:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(5893),a=r(7294),l=r(2686),i=r(4247),c=r(8850),s=r(5357),o=r(2624),u=r(1803);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}function h(){var e=(0,l.C)((function(e){return e.TaskReducer.taskList})),t=(0,l.T)(),r=(0,a.useState)(""),s=r[0],d=r[1],h=(0,a.useState)(""),m=h[0],p=h[1],b=(0,a.useState)({title:!1,description:!1}),x=b[0],g=b[1],v=(0,a.useState)(!1),y=v[0],j=v[1];return(0,a.useEffect)((function(){window.addEventListener("resize",(function(e){e.currentTarget.innerWidth<=640?j(!0):j(!1)}),!0)}),[]),(0,n.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,n.jsx)("input",{value:s,onChange:function(e){return d(e.target.value)},type:"text",name:"title",placeholder:"Task title here...",className:"block w-full px-3 py-2 sm:text-sm rounded-md border-2 border-neutral-300 dark:border-neutral-600 placeholder-gray-400 focus:ring-1 focus:ring-neutral-300 dark:focus:ring-neutral-600 focus:outline-none ".concat(x.title&&"border-red-400 dark:border-red-600")}),(0,n.jsx)("textarea",{value:m,onChange:function(e){return p(e.target.value)},name:"description",id:"description",placeholder:"Task description here...",className:"block w-full px-3 py-2 sm:text-sm rounded-md border-2 border-neutral-300 dark:border-neutral-600 placeholder-gray-400 focus:ring-1 focus:ring-neutral-300 dark:focus:ring-neutral-600 focus:outline-none ".concat(x.description&&"border-red-400 dark:border-red-600"," min-h-[120px]")}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(o.Z,{onClick:function(){function r(){g({title:!1,description:!1})}return""===s?(g(f({},x,{title:!0})),setTimeout((function(){return r()}),3e3)):""===m?(g(f({},x,{description:!0})),setTimeout((function(){return r()}),3e3)):(t((0,i.gI)({id:Math.random().toString(36).substring(2,6),title:s,description:m,completed:!1,date:new Date})),d(""),p(""),e.length>=5&&t((0,u.Sv)(c.t.NONE)),void(y&&t((0,u.Sv)(c.t.NONE))))},className:"w-20",children:"Submit"}),(0,n.jsx)(o.Z,{onClick:function(){return t((0,u.Sv)(c.t.NONE))},className:"w-20",variant:"outline",children:"Close"})]})]})}var m=r(7678);var p=function(e){var t=e.split("\n"),r="",n=!1,a=!0,l=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var o=c.value;if(o.startsWith("# ")){var u=o.slice(2);r+='<h1 class="md-h1">'.concat(u,"</h1>\n")}else if(o.startsWith("## ")){var d=o.slice(3);r+='<h2 class="md-h2">'.concat(d,"</h2>\n")}else if(o.startsWith("### ")){var f=o.slice(4);r+='<h3  class="md-h3">'.concat(f,"</h3>\n")}else if(o.startsWith("- ")||o.startsWith("* ")){n||(r+='<ul class="md-ul">',n=!0);var h=o.slice(2);r+='<li class="md-li">'.concat(h,"</li>")}else if(n&&""===o.trim())r+="</ul>",n=!1;else if(o.startsWith("> ")){var m=o.slice(2);r+='<blockquote class="md-blockquote">'.concat(m,"</blockquote>\n")}else n&&(r+="</ul>",n=!1),r+='<p class="md-p">'.concat(o,"</p>\n")}}catch(p){l=!0,i=p}finally{try{a||null==s.return||s.return()}finally{if(l)throw i}}return n&&(r+="</ul>"),r};function b(){var e=(0,l.T)(),t=(0,l.C)((function(e){return e.TaskReducer})).currentTask;return t?(0,n.jsxs)("div",{className:"flex flex-col h-full p-4",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h1",{className:"h2",children:t.title}),(0,n.jsxs)("div",{className:"flex gap-1 text-xs text-neutral-500 dark:text-neutral-400 mb-4",children:[(0,n.jsx)("span",{children:new Date(t.date).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})}),"\u30fb",(0,n.jsx)("span",{children:t.completed?(0,n.jsx)("span",{className:"font-bold text-green-600",children:"Completed"}):(0,n.jsx)("span",{className:"font-bold text-red-600",children:"Not Completed"})})]}),(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:p(t.description)}})]}),(0,n.jsxs)("div",{className:"flex w-full justify-end gap-4",children:[(0,n.jsx)(o.Z,{variant:"danger",className:"w-20",onClick:function(){null!==t&&(e((0,i.F6)(t.id)),e((0,u.Sv)(c.t.NONE)))},children:(0,n.jsx)(m.rF,{})}),(0,n.jsx)(o.Z,{variant:"secondary",className:"w-20",onClick:function(){return e((0,u.Sv)(c.t.NONE))},children:"Close"})]})]}):(0,n.jsx)("div",{})}var x=r(5948),g=r(6793);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){v(e,t,r[t])}))}return e}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var w=function(e){var t=e.checked,r=j(e,["checked"]);return(0,n.jsxs)("div",{className:"p-0 flex justify-center items-center",children:[(0,n.jsx)("input",y({type:"checkbox",checked:t,className:"invisible w-0 h-0 overflow-hidden",onChange:function(){}},r)),t?(0,n.jsx)(m.VW,{}):(0,n.jsx)(m.bK,{})]})};function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){var t=e.task,r=e.index,a=function(e){e.stopPropagation(),s((0,i.db)(t.id))},s=(0,l.T)();return(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(x._l,{draggableId:t.id,index:r,children:function(e,r){return(0,n.jsxs)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){k(e,t,r[t])}))}return e}({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:"w-full flex my-1 justify-center items-center rounded-md py-2 text-[0.8125rem] leading-5 bg-white dark:bg-neutral-800 border-2 border-neutral-300 dark:border-neutral-700",onClick:function(){return e=t.id,s((0,i.MT)(e)),void s((0,u.Sv)(c.t.PREVIEW));var e},children:[(0,n.jsx)("span",{className:"px-1",children:(0,n.jsx)(m.NG,{height:16})}),(0,n.jsx)("span",{className:"r-2 flex items-center font-semibold ".concat(t.completed&&"line-through"),children:t.title}),(0,n.jsx)("span",{onClick:a,className:"ml-auto mr-2 cursor-pointer",children:(0,n.jsx)(w,{checked:t.completed})})]}))}},t.id)})};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(s){c=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(){var e=(0,a.useState)(!1),t=(e[0],e[1],(0,l.C)((function(e){return e.TaskReducer.taskList}))),r=(0,l.T)();g.Z.subscribe((function(){window.localStorage.setItem("task-list",JSON.stringify(g.Z.getState().TaskReducer.taskList)),window.localStorage.setItem("archived-tasks",JSON.stringify(Array.from(g.Z.getState().TaskReducer.archivedTasks))),window.localStorage.setItem("settings",JSON.stringify(g.Z.getState().SettingsReducer))}));var s=function(e,t,r){var n=Array.from(e),a=T(n.splice(t,1),1)[0];return n.splice(r,0,a),n};return(0,n.jsx)(x.Z5,{onDragEnd:function(e){if(e.destination){var n=s(t,e.source.index,e.destination.index);r((0,i.s9)(n))}},children:(0,n.jsx)(x.bK,{droppableId:"droppable",children:function(e,a){return(0,n.jsxs)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}({},e.droppableProps,{ref:e.innerRef,className:"flex-1 flex flex-col h-full items-center rounded-md",children:[0===t.length?(0,n.jsx)("span",{className:"block w-full py-2 text-center rounded-md border-2 border-dashed border-neutral-400 dark:border-neutral-600 select-none",children:"Nothing To Do! \ud83e\udd2a"}):t.map((function(e,t){return(0,n.jsx)(O,{task:e,index:t},e.id)})),e.placeholder,(0,n.jsx)(o.Z,{className:"mt-auto w-full",onClick:function(){r((0,u.Sv)(c.t.EDITOR))},disabled:t.length>=6,children:"Add a new Task!"})]}))}})})};function P(){var e=(0,a.useState)(!1),t=e[0],r=e[1],o=(0,l.C)((function(e){return e})),u=o.TaskReducer,d=u.taskList,f=(u.archivedTasks,o.SettingsReducer),m=f.tasksArchived,p=f.mainView,x=(0,l.T)();return(0,a.useEffect)((function(){if(!m){var e=new Set,t=[];d.forEach((function(r){new Date(r.date).getDate()<=(new Date).getDate()-1&&r.completed?e.add(r):t.push(r)})),x((0,i.BL)({tasks:t,archive:e})),console.log("yesterdaysCompletedTasks",e),console.log("leftOutTasks",t)}}),[]),(0,a.useEffect)((function(){window.addEventListener("resize",(function(e){e.currentTarget.innerWidth<640?r(!0):r(!1)}),!0),window.innerWidth<640?r(!0):r(!1)}),[]),(0,n.jsx)(s.Z,{title:"Home",children:(0,n.jsxs)("div",{className:"flex-1 flex w-full",children:[(0,n.jsxs)("div",{className:"sm:max-w-[250px] md:max-w-[300px] lg:max-w-[350px] flex-1 flex flex-col w-full border-r-2 border-slate-200 dark:border-neutral-700 bg-slate-100 dark:bg-neutral-800 p-4",children:[(0,n.jsx)("h1",{className:"h2",children:"Tasks"}),(0,n.jsx)(E,{})]}),(0,n.jsxs)("div",{className:"min-w-[300px] flex-1 sm:flex flex-col gap-4 duration-1000 ".concat(t&&"absolute -right-full z-50 w-full h-[calc(100%-120px)] bg-white"," ").concat(!t||p!==c.t.EDITOR&&p!==c.t.PREVIEW?"":"-translate-x-full "," ").concat(t&&p===c.t.NONE?"translate-x-full":""),children:[p===c.t.EDITOR&&(0,n.jsx)(h,{}),p===c.t.PREVIEW&&(0,n.jsx)(b,{}),p===c.t.NONE&&(0,n.jsx)("div",{className:"w-full h-full flex justify-center items-center select-none",children:(0,n.jsx)("div",{className:"h1 text-neutral-500",children:"TaskList"})})]})]})})}},2686:function(e,t,r){"use strict";r.d(t,{C:function(){return l},T:function(){return a}});var n=r(9473),a=function(){return(0,n.I0)()},l=n.v9}},function(e){e.O(0,[630,669,267,357,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);